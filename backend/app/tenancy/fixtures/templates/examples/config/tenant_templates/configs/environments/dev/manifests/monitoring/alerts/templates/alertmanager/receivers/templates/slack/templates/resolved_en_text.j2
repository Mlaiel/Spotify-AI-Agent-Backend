# Enterprise Resolution Alert Template (English) - Advanced Industrial Grade
{% set service_icons = {
    'api': 'ğŸŒ',
    'database': 'ğŸ—„ï¸',
    'ml': 'ğŸ¤–',
    'audio': 'ğŸµ',
    'auth': 'ğŸ”',
    'storage': 'ğŸ’¾',
    'cache': 'âš¡',
    'queue': 'ğŸ“¬',
    'monitoring': 'ğŸ“Š'
} %}

âœ… **ALERT RESOLVED** âœ…

**{{ service_icons.get(alert.context.service_type, 'âš™ï¸') }} Service Recovery Confirmed**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ **Resolution Summary**
â€¢ **Service**: `{{ alert.context.service_name }}` ({{ alert.context.service_version | default('unknown') }})
â€¢ **Component**: `{{ alert.context.component }}`
â€¢ **Environment**: `{{ environment | upper }}`
â€¢ **Original Severity**: `{{ alert.original_severity | default(alert.severity) | upper }}`

âœ… **Recovery Details**
â€¢ **Alert**: {{ alert.title }}
â€¢ **Resolution**: {{ alert.resolution_summary | default('Service automatically recovered') }}
â€¢ **Resolved At**: {{ format_date(alert.resolved_at) }}
â€¢ **Total Duration**: {{ alert.total_duration | duration_format }}
â€¢ **Downtime**: {{ alert.actual_downtime | duration_format | default('No downtime detected') }}

{% if alert.resolution_method %}
ğŸ”§ **Resolution Method**
â€¢ **Type**: {{ alert.resolution_method.type | title }}
â€¢ **Triggered By**: {{ alert.resolution_method.triggered_by | default('Auto-recovery') }}
{% if alert.resolution_method.actions_taken %}
â€¢ **Actions Taken**:
{% for action in alert.resolution_method.actions_taken %}
  - {{ action }}
{% endfor %}
{% endif %}
{% endif %}

{% if alert.recovery_metrics %}
ğŸ“Š **Recovery Metrics**
{% for metric_name, metric_value in alert.recovery_metrics.items() %}
â€¢ **{{ metric_name | title }}**: {{ metric_value }}
{% endfor %}
{% endif %}

{% if alert.business_impact %}
ğŸ’¼ **Business Impact Summary**
â€¢ **Users Affected**: {{ alert.business_impact.total_affected_users | default('0') }}
â€¢ **Service Degradation**: {{ alert.business_impact.degradation_level | default('None') }}
â€¢ **Estimated Cost**: {{ alert.business_impact.final_cost | default('$0 (no impact)') }}
â€¢ **SLA Impact**: {{ alert.business_impact.sla_impact | default('No breach') }}
{% endif %}

{% if alert.ai_insights %}
ğŸ¤– **AI Post-Incident Analysis**
{% if alert.ai_insights.root_cause_confirmed %}
**ğŸ” Confirmed Root Cause**: {{ alert.ai_insights.root_cause_confirmed }}
{% endif %}

{% if alert.ai_insights.prevention_recommendations %}
**ğŸ›¡ï¸ Prevention Recommendations**:
{% for recommendation in alert.ai_insights.prevention_recommendations[:3] %}
{{ loop.index }}. {{ recommendation }}
{% endfor %}
{% endif %}

{% if alert.ai_insights.pattern_analysis %}
**ğŸ“Š Pattern Analysis**: {{ alert.ai_insights.pattern_analysis.summary }}
**ğŸ¯ Confidence**: {{ alert.ai_insights.confidence_score }}%
{% endif %}
{% endif %}

{% if alert.lessons_learned %}
ğŸ“š **Lessons Learned**
{% for lesson in alert.lessons_learned %}
â€¢ {{ lesson }}
{% endfor %}
{% endif %}

{% if alert.follow_up_actions %}
ğŸ“‹ **Follow-up Actions Required**
{% for action in alert.follow_up_actions %}
â€¢ {{ action.description }} (Due: {{ action.due_date | format_date }}) - @{{ action.assigned_to }}
{% endfor %}
{% endif %}

ğŸš€ **Post-Resolution Links**
â€¢ [ğŸ“Š Incident Report]({{ dashboard_url }}/incidents/{{ alert.incident_id }})
â€¢ [ğŸ“ˆ Recovery Analysis]({{ metrics_url }}/d/recovery/{{ alert.alert_id }})
â€¢ [ğŸ“‹ Full Timeline]({{ logs_url }}/timeline/{{ alert.alert_id }})
{% if alert.postmortem_url %}
â€¢ [ğŸ“ Post-mortem]({{ alert.postmortem_url }})
{% endif %}

{% if alert.performance_impact %}
âš¡ **Performance Recovery**
â€¢ **Service Latency**: Back to {{ alert.performance_impact.baseline_latency }}
â€¢ **Throughput**: Restored to {{ alert.performance_impact.baseline_throughput }}
â€¢ **Error Rate**: {{ alert.performance_impact.current_error_rate }}
{% endif %}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**Original Alert ID**: `{{ alert.alert_id }}`
**Incident ID**: `{{ alert.incident_id | default('N/A') }}`
**Resolution ID**: `{{ alert.resolution_id }}`

*ğŸµ Spotify AI Agent Monitoring System*
*Service restored: {{ format_date(now, 'iso') }}*
*Next review: {{ alert.next_review_date | format_date | default('Not scheduled') }}*
