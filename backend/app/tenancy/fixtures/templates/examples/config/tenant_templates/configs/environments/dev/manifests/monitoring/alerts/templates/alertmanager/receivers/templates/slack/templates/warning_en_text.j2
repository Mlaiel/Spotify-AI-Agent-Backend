# Enterprise Warning Alert Template (English) - Advanced Industrial Grade
{% set alert_emoji = {
    'critical': 'ğŸš¨',
    'high': 'âš ï¸',
    'medium': 'ğŸ”¶',
    'low': 'ğŸ’¡',
    'info': 'â„¹ï¸'
} %}

{% set service_icons = {
    'api': 'ğŸŒ',
    'database': 'ğŸ—„ï¸',
    'ml': 'ğŸ¤–',
    'audio': 'ğŸµ',
    'auth': 'ğŸ”',
    'storage': 'ğŸ’¾',
    'cache': 'âš¡',
    'queue': 'ğŸ“¬',
    'monitoring': 'ğŸ“Š'
} %}

{{ alert_emoji.get(alert.severity, 'âš ï¸') }} **WARNING ALERT** {{ alert_emoji.get(alert.severity, 'âš ï¸') }}

**{{ service_icons.get(alert.context.service_type, 'âš™ï¸') }} Service Monitoring**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ **Alert Summary**
â€¢ **Service**: `{{ alert.context.service_name }}` ({{ alert.context.service_version | default('unknown') }})
â€¢ **Component**: `{{ alert.context.component }}`
â€¢ **Environment**: `{{ environment | upper }}` 
â€¢ **Severity**: `{{ alert.severity.upper() }}` ({{ alert.priority_score | default(0) }}/10)

âš ï¸ **Issue Details**
â€¢ **Alert**: {{ alert.title }}
â€¢ **Description**: {{ alert.description }}
â€¢ **Status**: {{ alert.status | title }}
â€¢ **Duration**: {{ alert.duration | duration_format | default('Just started') }}
â€¢ **First Detected**: {{ format_date(alert.created_at) }}

{% if alert.context.instance_id %}
ğŸ–¥ï¸ **System Context**
â€¢ **Instance**: `{{ alert.context.instance_id }}`
â€¢ **Region**: `{{ alert.context.region | default('global') }}`
â€¢ **Cluster**: `{{ alert.context.cluster_name | default('default') }}`
{% endif %}

{% if alert.metrics %}
ğŸ“Š **Current Metrics**
{% for metric_name, metric_value in alert.metrics.items() %}
â€¢ **{{ metric_name | title }}**: {{ metric_value }}
{% endfor %}
{% endif %}

{% if alert.ai_insights %}
ğŸ¤– **AI Analysis**
{% if alert.ai_insights.predicted_escalation %}
**ğŸ”® Escalation Prediction**: {{ alert.ai_insights.predicted_escalation.probability }}% chance of becoming critical
**â° Estimated Time**: {{ alert.ai_insights.predicted_escalation.time_estimate }}
{% endif %}

{% if alert.ai_insights.recommended_actions %}
**ğŸ› ï¸ Recommended Actions**:
{% for action in alert.ai_insights.recommended_actions[:3] %}
{{ loop.index }}. {{ action }}
{% endfor %}
{% endif %}

{% if alert.ai_insights.similar_incidents %}
**ğŸ“ˆ Pattern Match**: {{ alert.ai_insights.similar_incidents.count }} similar cases ({{ alert.ai_insights.similar_incidents.resolution_rate }}% auto-resolved)
{% endif %}
{% endif %}

{% if alert.preventive_actions %}
ğŸ›¡ï¸ **Preventive Measures Available**
{% for action in alert.preventive_actions %}
â€¢ {{ action.name }} - {{ action.description }}
{% endfor %}
{% endif %}

ğŸš€ **Quick Links**
â€¢ [ğŸ“Š Service Dashboard]({{ dashboard_url }}/services/{{ alert.context.service_name }})
â€¢ [ğŸ“ˆ Trend Analysis]({{ metrics_url }}/d/trends/{{ alert.context.service_name }})
â€¢ [ğŸ“‹ Recent Logs]({{ logs_url }}/app/{{ alert.context.service_name }})

{% if alert.escalation and alert.escalation.auto_escalation %}
â° **Auto-escalation**: This alert will become critical in {{ alert.escalation.escalation_time | default('30 minutes') }} if not resolved
{% endif %}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**Alert ID**: `{{ alert.alert_id }}`
**Tenant**: `{{ alert.tenant_id | default('system') }}`

*ğŸµ Spotify AI Agent Monitoring*
*Generated: {{ format_date(now, 'short') }}*
