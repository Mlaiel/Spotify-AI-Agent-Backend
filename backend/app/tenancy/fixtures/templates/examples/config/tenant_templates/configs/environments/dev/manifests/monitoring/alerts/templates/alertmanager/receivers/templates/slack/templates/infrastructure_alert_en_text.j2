# Enterprise Infrastructure Alert Template (English) - Advanced Industrial Grade
{% set infra_icons = {
    'compute': 'ğŸ–¥ï¸',
    'storage': 'ğŸ’¾',
    'network': 'ğŸŒ',
    'database': 'ğŸ—„ï¸',
    'kubernetes': 'â˜¸ï¸',
    'docker': 'ğŸ³',
    'load_balancer': 'âš–ï¸',
    'cdn': 'ğŸŒ',
    'cache': 'âš¡'
} %}

ğŸ—ï¸ **INFRASTRUCTURE ALERT** ğŸ—ï¸

**{{ infra_icons.get(alert.infrastructure_context.component_type, 'ğŸ”§') }} Infrastructure Component Alert**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ **Infrastructure Context**
â€¢ **Component**: `{{ alert.infrastructure_context.component_name }}`
â€¢ **Type**: {{ alert.infrastructure_context.component_type | title }}
â€¢ **Environment**: `{{ environment | upper }}`
â€¢ **Cluster**: `{{ alert.infrastructure_context.cluster_name }}`
â€¢ **Region**: `{{ alert.infrastructure_context.region }}`
â€¢ **Availability Zone**: `{{ alert.infrastructure_context.availability_zone }}`

ğŸš¨ **Alert Details**
â€¢ **Issue**: {{ alert.title }}
â€¢ **Description**: {{ alert.description }}
â€¢ **Severity**: `{{ alert.severity.upper() }}` ({{ alert.priority_score | default(0) }}/10)
â€¢ **Detected**: {{ format_date(alert.created_at) }}
â€¢ **Duration**: {{ alert.duration | duration_format | default('Just detected') }}

{% if alert.infrastructure_context.node_details %}
ğŸ–¥ï¸ **Node/Instance Information**
â€¢ **Node ID**: `{{ alert.infrastructure_context.node_details.node_id }}`
â€¢ **Instance Type**: {{ alert.infrastructure_context.node_details.instance_type }}
â€¢ **Instance State**: {{ alert.infrastructure_context.node_details.instance_state }}
â€¢ **Private IP**: {{ alert.infrastructure_context.node_details.private_ip }}
â€¢ **Public IP**: {{ alert.infrastructure_context.node_details.public_ip | default('N/A') }}
â€¢ **Launch Time**: {{ format_date(alert.infrastructure_context.node_details.launch_time) }}
â€¢ **Uptime**: {{ alert.infrastructure_context.node_details.uptime | duration_format }}
{% endif %}

{% if alert.infrastructure_context.resource_utilization %}
ğŸ“Š **Resource Utilization**
â€¢ **CPU Usage**: {{ alert.infrastructure_context.resource_utilization.cpu_percent }}% (Threshold: {{ alert.infrastructure_context.resource_utilization.cpu_threshold }}%)
â€¢ **Memory Usage**: {{ alert.infrastructure_context.resource_utilization.memory_percent }}% ({{ alert.infrastructure_context.resource_utilization.memory_used }}/{{ alert.infrastructure_context.resource_utilization.memory_total }})
â€¢ **Disk Usage**: {{ alert.infrastructure_context.resource_utilization.disk_percent }}% ({{ alert.infrastructure_context.resource_utilization.disk_used }}/{{ alert.infrastructure_context.resource_utilization.disk_total }})
â€¢ **Network I/O**: In: {{ alert.infrastructure_context.resource_utilization.network_in }}/s, Out: {{ alert.infrastructure_context.resource_utilization.network_out }}/s
â€¢ **Load Average**: {{ alert.infrastructure_context.resource_utilization.load_average }}
{% endif %}

{% if alert.infrastructure_context.kubernetes_context %}
â˜¸ï¸ **Kubernetes Context**
â€¢ **Namespace**: `{{ alert.infrastructure_context.kubernetes_context.namespace }}`
â€¢ **Pod Name**: `{{ alert.infrastructure_context.kubernetes_context.pod_name }}`
â€¢ **Pod Status**: {{ alert.infrastructure_context.kubernetes_context.pod_status }}
â€¢ **Container**: `{{ alert.infrastructure_context.kubernetes_context.container_name }}`
â€¢ **Image**: {{ alert.infrastructure_context.kubernetes_context.image_name }}:{{ alert.infrastructure_context.kubernetes_context.image_tag }}
â€¢ **Restart Count**: {{ alert.infrastructure_context.kubernetes_context.restart_count }}
â€¢ **Node**: `{{ alert.infrastructure_context.kubernetes_context.node_name }}`
{% endif %}

{% if alert.infrastructure_context.service_impact %}
ğŸ¯ **Service Impact Analysis**
â€¢ **Affected Services**: {{ alert.infrastructure_context.service_impact.affected_services_count }}
â€¢ **Critical Services**: {{ alert.infrastructure_context.service_impact.critical_services | join(', ') }}
â€¢ **Traffic Impact**: {{ alert.infrastructure_context.service_impact.traffic_impact_percentage }}% of total traffic
â€¢ **Request Failure Rate**: {{ alert.infrastructure_context.service_impact.failure_rate }}%
â€¢ **Estimated Recovery Time**: {{ alert.infrastructure_context.service_impact.estimated_recovery_time }}
{% endif %}

{% if alert.infrastructure_context.network_details %}
ğŸŒ **Network Infrastructure**
â€¢ **VPC ID**: `{{ alert.infrastructure_context.network_details.vpc_id }}`
â€¢ **Subnet**: `{{ alert.infrastructure_context.network_details.subnet_id }}`
â€¢ **Security Groups**: {{ alert.infrastructure_context.network_details.security_groups | join(', ') }}
â€¢ **Load Balancer**: {{ alert.infrastructure_context.network_details.load_balancer_name | default('N/A') }}
â€¢ **Auto Scaling Group**: {{ alert.infrastructure_context.network_details.asg_name | default('N/A') }}
â€¢ **Network ACLs**: {{ alert.infrastructure_context.network_details.network_acls | join(', ') }}
{% endif %}

{% if alert.ai_insights %}
ğŸ¤– **AI Infrastructure Analysis**
{% if alert.ai_insights.capacity_prediction %}
**ğŸ“Š Capacity Prediction**: {{ alert.ai_insights.capacity_prediction.forecast }}
**â° Time to Capacity Limit**: {{ alert.ai_insights.capacity_prediction.time_to_limit }}
{% endif %}

{% if alert.ai_insights.recommended_actions %}
**ğŸ› ï¸ Infrastructure Recommendations**:
{% for action in alert.ai_insights.recommended_actions[:4] %}
{{ loop.index }}. {{ action }}
{% endfor %}
{% endif %}

{% if alert.ai_insights.cost_optimization %}
**ğŸ’° Cost Optimization Opportunities**:
{% for optimization in alert.ai_insights.cost_optimization %}
â€¢ {{ optimization.description }} (Potential Savings: {{ optimization.estimated_savings }})
{% endfor %}
{% endif %}
{% endif %}

{% if alert.infrastructure_context.backup_status %}
ğŸ’¾ **Backup & Disaster Recovery**
â€¢ **Last Backup**: {{ format_date(alert.infrastructure_context.backup_status.last_backup_time) }}
â€¢ **Backup Status**: {{ alert.infrastructure_context.backup_status.status }}
â€¢ **RPO Compliance**: {{ alert.infrastructure_context.backup_status.rpo_compliant | ternary('âœ… Compliant', 'âŒ Non-compliant') }}
â€¢ **RTO Estimate**: {{ alert.infrastructure_context.backup_status.rto_estimate }}
{% endif %}

{% if alert.infrastructure_context.scaling_context %}
ğŸ“ˆ **Auto-Scaling Information**
â€¢ **Current Capacity**: {{ alert.infrastructure_context.scaling_context.current_capacity }}
â€¢ **Desired Capacity**: {{ alert.infrastructure_context.scaling_context.desired_capacity }}
â€¢ **Min/Max Capacity**: {{ alert.infrastructure_context.scaling_context.min_capacity }}/{{ alert.infrastructure_context.scaling_context.max_capacity }}
â€¢ **Scaling Policy**: {{ alert.infrastructure_context.scaling_context.policy_name }}
â€¢ **Last Scaling Activity**: {{ format_date(alert.infrastructure_context.scaling_context.last_scaling_activity) }}
â€¢ **Scaling Cooldown**: {{ alert.infrastructure_context.scaling_context.cooldown_period }}
{% endif %}

ğŸš€ **Infrastructure Management Links**
â€¢ [ğŸ—ï¸ Infrastructure Dashboard]({{ dashboard_url }}/infrastructure/overview)
â€¢ [ğŸ“Š Resource Monitoring]({{ monitoring_url }}/infrastructure/{{ alert.infrastructure_context.component_name }})
â€¢ [â˜¸ï¸ Kubernetes Dashboard]({{ k8s_dashboard_url }}/{{ alert.infrastructure_context.kubernetes_context.namespace | default('default') }})
â€¢ [ğŸ”§ Auto-Scaling Console]({{ aws_console_url }}/ec2/autoscaling/home)
â€¢ [ğŸ“‹ Infrastructure Logs]({{ logs_url }}/infrastructure/{{ alert.infrastructure_context.component_name }})
â€¢ [ğŸ’¾ Backup Console]({{ backup_url }}/{{ alert.infrastructure_context.component_name }})

{% if alert.infrastructure_context.health_checks %}
ğŸ¥ **Health Check Status**
{% for check in alert.infrastructure_context.health_checks %}
â€¢ **{{ check.name }}**: {{ check.status }} (Last Check: {{ format_date(check.last_check) }})
{% endfor %}
{% endif %}

{% if alert.infrastructure_context.compliance_status %}
ğŸ“‹ **Compliance & Security**
â€¢ **Security Compliance**: {{ alert.infrastructure_context.compliance_status.security_score }}/100
â€¢ **Patch Level**: {{ alert.infrastructure_context.compliance_status.patch_status }}
â€¢ **Vulnerability Scan**: {{ format_date(alert.infrastructure_context.compliance_status.last_vuln_scan) }}
â€¢ **Configuration Drift**: {{ alert.infrastructure_context.compliance_status.config_drift | ternary('âš ï¸ Detected', 'âœ… None') }}
{% endif %}

{% if alert.infrastructure_context.immediate_actions %}
âš¡ **Immediate Actions Available**
{% for action in alert.infrastructure_context.immediate_actions %}
â€¢ **{{ action.type }}**: {{ action.description }} (Risk: {{ action.risk_level }}, ETA: {{ action.estimated_time }})
{% endfor %}
{% endif %}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**Alert ID**: `{{ alert.alert_id }}`
**Infrastructure ID**: `{{ alert.infrastructure_context.component_id }}`
**Cost Center**: `{{ alert.infrastructure_context.cost_center | default('N/A') }}`
**Owner Team**: `{{ alert.infrastructure_context.owner_team | default('Infrastructure') }}`

*ğŸµ Spotify AI Agent Infrastructure Monitoring*
*Infrastructure alert detected: {{ format_date(now, 'iso') }}*
*Escalation Path: {{ alert.infrastructure_context.escalation_path | default('Standard') }}*
*ğŸ“ Emergency Infrastructure Team: @infra-emergency*
