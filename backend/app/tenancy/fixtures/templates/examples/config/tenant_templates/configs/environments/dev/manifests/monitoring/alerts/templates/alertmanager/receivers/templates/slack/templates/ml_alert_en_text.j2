# Enterprise ML/AI Alert Template (English) - Advanced Industrial Grade
{% set ml_icons = {
    'model_drift': 'ğŸ“Š',
    'performance_degradation': 'ğŸ“‰',
    'data_quality': 'ğŸ”',
    'training_failure': 'ğŸš«',
    'inference_latency': 'â±ï¸',
    'resource_exhaustion': 'ğŸ’¾',
    'model_bias': 'âš–ï¸',
    'prediction_anomaly': 'ğŸ¯'
} %}

ğŸ¤– **AI/ML SYSTEM ALERT** ğŸ¤–

**{{ ml_icons.get(alert.ml_context.alert_type, 'ğŸ”§') }} Machine Learning Monitoring**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ **ML System Context**
â€¢ **Model Name**: `{{ alert.ml_context.model_name }}`
â€¢ **Model Version**: `{{ alert.ml_context.model_version }}`
â€¢ **Pipeline**: `{{ alert.ml_context.pipeline_name }}`
â€¢ **Environment**: `{{ environment | upper }}`
â€¢ **Alert Type**: `{{ alert.ml_context.alert_type | title }}`

ğŸ”¥ **Alert Details**
â€¢ **Issue**: {{ alert.title }}
â€¢ **Description**: {{ alert.description }}
â€¢ **Severity**: `{{ alert.severity.upper() }}` ({{ alert.priority_score | default(0) }}/10)
â€¢ **Detected**: {{ format_date(alert.created_at) }}
â€¢ **Duration**: {{ alert.duration | duration_format | default('Just detected') }}

{% if alert.ml_context.model_metrics %}
ğŸ“Š **Model Performance Metrics**
{% for metric_name, metric_value in alert.ml_context.model_metrics.items() %}
â€¢ **{{ metric_name | title }}**: {{ metric_value.current }} (Baseline: {{ metric_value.baseline }})
  {% if metric_value.trend %}â†’ Trend: {{ metric_value.trend }}{% endif %}
{% endfor %}
{% endif %}

{% if alert.ml_context.data_quality %}
ğŸ” **Data Quality Assessment**
â€¢ **Input Data Quality Score**: {{ alert.ml_context.data_quality.score }}/10
â€¢ **Missing Values**: {{ alert.ml_context.data_quality.missing_percentage }}%
â€¢ **Schema Drift**: {{ alert.ml_context.data_quality.schema_drift | ternary('âŒ Detected', 'âœ… Stable') }}
â€¢ **Feature Drift**: {{ alert.ml_context.data_quality.feature_drift_count }} features affected
{% if alert.ml_context.data_quality.anomalous_features %}
â€¢ **Anomalous Features**: {{ alert.ml_context.data_quality.anomalous_features | join(', ') }}
{% endif %}
{% endif %}

{% if alert.ml_context.inference_stats %}
âš¡ **Inference Statistics**
â€¢ **Requests/min**: {{ alert.ml_context.inference_stats.requests_per_minute }}
â€¢ **Avg Latency**: {{ alert.ml_context.inference_stats.avg_latency }}ms
â€¢ **Error Rate**: {{ alert.ml_context.inference_stats.error_rate }}%
â€¢ **Throughput**: {{ alert.ml_context.inference_stats.throughput }} predictions/sec
{% endif %}

{% if alert.ml_context.resource_usage %}
ğŸ’¾ **Resource Utilization**
â€¢ **GPU Memory**: {{ alert.ml_context.resource_usage.gpu_memory_percent }}%
â€¢ **CPU Usage**: {{ alert.ml_context.resource_usage.cpu_percent }}%
â€¢ **RAM Usage**: {{ alert.ml_context.resource_usage.memory_percent }}%
â€¢ **Disk I/O**: {{ alert.ml_context.resource_usage.disk_io }}
{% endif %}

{% if alert.ai_insights %}
ğŸ§  **AI-Powered Analysis**
{% if alert.ai_insights.root_cause_analysis %}
**ğŸ” Automated Root Cause Analysis**:
{{ alert.ai_insights.root_cause_analysis }}
{% endif %}

{% if alert.ai_insights.recommended_actions %}
**ğŸ› ï¸ ML-Specific Recommendations**:
{% for action in alert.ai_insights.recommended_actions[:4] %}
{{ loop.index }}. {{ action }}
{% endfor %}
{% endif %}

{% if alert.ai_insights.model_health_score %}
**ğŸ“Š Model Health Score**: {{ alert.ai_insights.model_health_score }}/100
{% endif %}

{% if alert.ai_insights.retraining_recommendation %}
**ğŸ”„ Retraining Recommendation**: {{ alert.ai_insights.retraining_recommendation.urgency }} priority
**ğŸ“… Suggested Timeline**: {{ alert.ai_insights.retraining_recommendation.timeline }}
{% endif %}
{% endif %}

{% if alert.ml_context.experiment_tracking %}
ğŸ§ª **Experiment Context**
â€¢ **Experiment ID**: `{{ alert.ml_context.experiment_tracking.experiment_id }}`
â€¢ **Run ID**: `{{ alert.ml_context.experiment_tracking.run_id }}`
â€¢ **A/B Test**: {{ alert.ml_context.experiment_tracking.ab_test_name | default('Not applicable') }}
â€¢ **Control Group Impact**: {{ alert.ml_context.experiment_tracking.control_impact | default('Unknown') }}
{% endif %}

{% if alert.ml_context.business_metrics %}
ğŸ’¼ **Business Impact on ML**
â€¢ **Model Confidence Drop**: {{ alert.ml_context.business_metrics.confidence_drop }}%
â€¢ **Prediction Accuracy**: {{ alert.ml_context.business_metrics.accuracy_current }}% (was {{ alert.ml_context.business_metrics.accuracy_baseline }}%)
â€¢ **Revenue Impact**: {{ alert.ml_context.business_metrics.revenue_impact | default('Calculating...') }}
â€¢ **User Experience Score**: {{ alert.ml_context.business_metrics.ux_score }}/10
{% endif %}

ğŸš€ **ML-Specific Quick Actions**
â€¢ [ğŸ§  Model Dashboard]({{ dashboard_url }}/ml/models/{{ alert.ml_context.model_name }})
â€¢ [ğŸ“Š Training Metrics]({{ metrics_url }}/ml/training/{{ alert.ml_context.model_version }})
â€¢ [ğŸ” Feature Analysis]({{ dashboard_url }}/ml/features/{{ alert.ml_context.pipeline_name }})
â€¢ [ğŸ“ˆ Drift Detection]({{ dashboard_url }}/ml/drift/{{ alert.ml_context.model_name }})
â€¢ [ğŸ§ª Experiment Tracking]({{ mlflow_url }}/experiments/{{ alert.ml_context.experiment_tracking.experiment_id | default('latest') }})
{% if alert.ml_context.model_registry_url %}
â€¢ [ğŸ“š Model Registry]({{ alert.ml_context.model_registry_url }})
{% endif %}

{% if alert.auto_remediation %}
ğŸ¤– **Auto-Remediation Status**
â€¢ **Auto-retry**: {{ alert.auto_remediation.retry_enabled | ternary('âœ… Enabled', 'âŒ Disabled') }}
â€¢ **Fallback Model**: {{ alert.auto_remediation.fallback_model | default('None configured') }}
â€¢ **Traffic Routing**: {{ alert.auto_remediation.traffic_routing | default('Normal') }}
{% endif %}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**Alert ID**: `{{ alert.alert_id }}`
**Model Hash**: `{{ alert.ml_context.model_hash | default('N/A') }}`
**Pipeline Version**: `{{ alert.ml_context.pipeline_version | default('latest') }}`

*ğŸµ Spotify AI Agent ML Monitoring*
*Generated: {{ format_date(now, 'iso') }}*
*ML Ops Team: Contact @ml-ops for critical issues*
