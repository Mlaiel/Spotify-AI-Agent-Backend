# Enterprise Incident Management Blocks Template (English) - Advanced Industrial Grade
{
    "blocks": [
        {
            "type": "header",
            "text": {
                "type": "plain_text",
                "text": "ğŸ”¥ INCIDENT {{ incident.severity.upper() }} - {{ incident.title }}",
                "emoji": true
            }
        },
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*ğŸš¨ Major Incident Declared*\n{{ incident.description | truncate_smart(400) }}"
            },
            "accessory": {
                "type": "button",
                "text": {
                    "type": "plain_text",
                    "text": "ğŸ›ï¸ War Room",
                    "emoji": true
                },
                "style": "danger",
                "url": "{{ incident.war_room_url }}",
                "action_id": "join_war_room"
            }
        },
        {
            "type": "section",
            "fields": [
                {
                    "type": "mrkdwn",
                    "text": "*ğŸ¯ Affected Services:*\n{% for service in incident.affected_services %}â€¢ `{{ service.name }}` ({{ service.impact_level }})\n{% endfor %}"
                },
                {
                    "type": "mrkdwn",
                    "text": "*âš¡ Severity:*\n{{ incident.severity.upper() }} ({{ incident.impact_score }}/10)"
                },
                {
                    "type": "mrkdwn",
                    "text": "*ğŸ‘¥ Users Affected:*\n{{ incident.users_affected | default('Assessing...') }}"
                },
                {
                    "type": "mrkdwn",
                    "text": "*â° Started:*\n{{ format_date(incident.start_time, 'short') }}"
                },
                {
                    "type": "mrkdwn",
                    "text": "*ğŸŒ Regions:*\n{{ incident.affected_regions | join(', ') }}"
                },
                {
                    "type": "mrkdwn",
                    "text": "*ğŸ’° Business Impact:*\n{{ incident.business_impact.estimated_cost | default('Calculating...') }}"
                }
            ]
        },
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*ğŸ‘¨â€ğŸ’¼ Incident Command Structure:*\nâ€¢ **Incident Commander:** @{{ incident.commander | default('Not assigned') }}\nâ€¢ **Technical Lead:** @{{ incident.tech_lead | default('Not assigned') }}\nâ€¢ **Communications Lead:** @{{ incident.comms_lead | default('Not assigned') }}\nâ€¢ **Customer Success:** @{{ incident.customer_success | default('Not assigned') }}"
            }
        },
        {% if incident.timeline %}
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*ğŸ“… Recent Timeline:*\n{% for event in incident.timeline[-3:] %}â€¢ **{{ event.timestamp | format_time }}** - {{ event.description }}\n{% endfor %}"
            }
        },
        {% endif %}
        {% if incident.current_actions %}
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*ğŸ”§ Current Actions:*\n{% for action in incident.current_actions %}â€¢ {{ action.description }} ({{ action.owner }})\n{% endfor %}"
            }
        },
        {% endif %}
        {% if incident.customer_impact %}
        {
            "type": "section",
            "text": {
                "type": "mrkdwn",
                "text": "*ğŸ“¢ Customer Communication:*\nâ€¢ **Status Page:** {{ incident.customer_impact.status_page_updated | ternary('âœ… Updated', 'âŒ Pending') }}\nâ€¢ **Support Tickets:** {{ incident.customer_impact.support_tickets_count | default(0) }} new\nâ€¢ **Social Media:** {{ incident.customer_impact.social_mentions | default(0) }} mentions"
            }
        },
        {% endif %}
        {
            "type": "actions",
            "elements": [
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸš¨ Join Response",
                        "emoji": true
                    },
                    "style": "danger",
                    "url": "{{ incident.response_channel_url }}",
                    "action_id": "join_response"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ“Š Live Dashboard",
                        "emoji": true
                    },
                    "url": "{{ incident.dashboard_url }}",
                    "action_id": "view_dashboard"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ“ Bridge Call",
                        "emoji": true
                    },
                    "url": "{{ incident.bridge_call_url }}",
                    "action_id": "join_bridge"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ“ Timeline",
                        "emoji": true
                    },
                    "url": "{{ incident.timeline_url }}",
                    "action_id": "view_timeline"
                }
            ]
        },
        {
            "type": "actions",
            "elements": [
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ“‹ Runbooks",
                        "emoji": true
                    },
                    "url": "{{ incident.runbooks_url }}",
                    "action_id": "view_runbooks"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ” Logs Analysis",
                        "emoji": true
                    },
                    "url": "{{ incident.logs_analysis_url }}",
                    "action_id": "view_logs"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ“Š Status Page",
                        "emoji": true
                    },
                    "url": "{{ incident.status_page_url }}",
                    "action_id": "update_status"
                },
                {
                    "type": "button",
                    "text": {
                        "type": "plain_text",
                        "text": "ğŸ”§ Infrastructure",
                        "emoji": true
                    },
                    "url": "{{ incident.infrastructure_url }}",
                    "action_id": "view_infra"
                }
            ]
        },
        {% if incident.sla_impact %}
        {
            "type": "context",
            "elements": [
                {
                    "type": "mrkdwn",
                    "text": "âš ï¸ *SLA Impact:* {{ incident.sla_impact.current_availability }}% availability | *MTD Breach:* {{ incident.sla_impact.mtd_breach | ternary('âŒ YES', 'âœ… No') }} | *Target Recovery:* {{ incident.sla_impact.target_recovery_time }}"
                }
            ]
        },
        {% endif %}
        {
            "type": "divider"
        },
        {
            "type": "context",
            "elements": [
                {
                    "type": "mrkdwn",
                    "text": "ğŸµ *Spotify AI Agent Incident Management* | Incident ID: `{{ incident.incident_id }}` | Priority: {{ incident.priority }} | Duration: {{ incident.duration | duration_format }} | Updated: {{ format_date(now, 'iso') }}"
                }
            ]
        }
    ]
}
