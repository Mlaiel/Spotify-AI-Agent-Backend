# Enterprise Performance Degradation Alert Template (English) - Advanced Industrial Grade
{% set performance_icons = {
    'latency': 'â±ï¸',
    'throughput': 'ğŸ“Š',
    'error_rate': 'âŒ',
    'memory': 'ğŸ’¾',
    'cpu': 'ğŸ–¥ï¸',
    'network': 'ğŸŒ',
    'disk': 'ğŸ’¿'
} %}

âš ï¸ **PERFORMANCE DEGRADATION DETECTED** âš ï¸

**{{ performance_icons.get(alert.performance_context.metric_type, 'ğŸ“Š') }} Performance Alert - {{ alert.context.service_name }}**
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ **Performance Impact Summary**
â€¢ **Service**: `{{ alert.context.service_name }}` ({{ alert.context.service_version | default('latest') }})
â€¢ **Environment**: `{{ environment | upper }}`
â€¢ **Affected Metric**: {{ alert.performance_context.metric_type | title }}
â€¢ **Degradation Level**: {{ alert.performance_context.degradation_level }}%
â€¢ **Detection Time**: {{ format_date(alert.created_at) }}

ğŸ“Š **Performance Metrics**
â€¢ **Current Value**: {{ alert.performance_context.current_value }}
â€¢ **Baseline/Target**: {{ alert.performance_context.baseline_value }}
â€¢ **Deviation**: {{ alert.performance_context.deviation_percentage }}% worse than baseline
â€¢ **Trend**: {{ alert.performance_context.trend_direction | title }} over {{ alert.performance_context.trend_duration }}

{% if alert.performance_context.detailed_metrics %}
ğŸ“ˆ **Detailed Performance Breakdown**
{% for metric_name, metric_data in alert.performance_context.detailed_metrics.items() %}
â€¢ **{{ metric_name | title }}**: 
  - Current: {{ metric_data.current }}
  - Target: {{ metric_data.target }}
  - Variance: {{ metric_data.variance }}%
{% endfor %}
{% endif %}

{% if alert.performance_context.user_impact %}
ğŸ‘¥ **User Experience Impact**
â€¢ **Affected Users**: {{ alert.performance_context.user_impact.affected_users_count }}
â€¢ **User Session Impact**: {{ alert.performance_context.user_impact.session_impact_percentage }}%
â€¢ **Bounce Rate Change**: +{{ alert.performance_context.user_impact.bounce_rate_increase }}%
â€¢ **Customer Complaints**: {{ alert.performance_context.user_impact.complaints_count | default(0) }}
{% endif %}

{% if alert.performance_context.business_metrics %}
ğŸ’¼ **Business Performance Impact**
â€¢ **Revenue Impact**: {{ alert.performance_context.business_metrics.revenue_impact_per_hour }}
â€¢ **Conversion Rate**: {{ alert.performance_context.business_metrics.conversion_rate_change }}% decrease
â€¢ **Transaction Volume**: {{ alert.performance_context.business_metrics.transaction_volume_impact }}
â€¢ **Cost Impact**: {{ alert.performance_context.business_metrics.operational_cost_increase }}
{% endif %}

{% if alert.ai_insights %}
ğŸ¤– **AI Performance Analysis**
{% if alert.ai_insights.performance_prediction %}
**ğŸ”® Performance Prediction**: {{ alert.ai_insights.performance_prediction.trend_forecast }}
**ğŸ“ˆ Expected Recovery**: {{ alert.ai_insights.performance_prediction.recovery_time_estimate }}
{% endif %}

{% if alert.ai_insights.root_cause_analysis %}
**ğŸ” AI Root Cause Analysis**:
{{ alert.ai_insights.root_cause_analysis }}
{% endif %}

{% if alert.ai_insights.optimization_recommendations %}
**âš¡ Performance Optimization Recommendations**:
{% for recommendation in alert.ai_insights.optimization_recommendations[:4] %}
{{ loop.index }}. {{ recommendation.action }} (Impact: {{ recommendation.expected_improvement }})
{% endfor %}
{% endif %}
{% endif %}

{% if alert.performance_context.infrastructure_correlation %}
ğŸ—ï¸ **Infrastructure Correlation**
â€¢ **CPU Utilization**: {{ alert.performance_context.infrastructure_correlation.cpu_usage }}%
â€¢ **Memory Utilization**: {{ alert.performance_context.infrastructure_correlation.memory_usage }}%
â€¢ **Network Latency**: {{ alert.performance_context.infrastructure_correlation.network_latency }}ms
â€¢ **Disk I/O**: {{ alert.performance_context.infrastructure_correlation.disk_io_status }}
â€¢ **Database Performance**: {{ alert.performance_context.infrastructure_correlation.db_performance_score }}/100
{% endif %}

{% if alert.performance_context.historical_comparison %}
ğŸ“Š **Historical Performance Context**
â€¢ **Same Time Yesterday**: {{ alert.performance_context.historical_comparison.yesterday_same_time }}
â€¢ **Same Day Last Week**: {{ alert.performance_context.historical_comparison.last_week_same_day }}
â€¢ **Monthly Average**: {{ alert.performance_context.historical_comparison.monthly_average }}
â€¢ **Worst Performance (30d)**: {{ alert.performance_context.historical_comparison.worst_30d }}
â€¢ **Best Performance (30d)**: {{ alert.performance_context.historical_comparison.best_30d }}
{% endif %}

{% if alert.performance_context.external_factors %}
ğŸŒ **External Factors Analysis**
{% for factor in alert.performance_context.external_factors %}
â€¢ **{{ factor.type | title }}**: {{ factor.description }} (Impact: {{ factor.impact_level }})
{% endfor %}
{% endif %}

ğŸš€ **Performance Investigation Links**
â€¢ [ğŸ“Š Performance Dashboard]({{ dashboard_url }}/performance/{{ alert.context.service_name }})
â€¢ [ğŸ“ˆ Real-time Metrics]({{ metrics_url }}/d/performance/{{ alert.context.service_name }})
â€¢ [ğŸ” APM Traces]({{ apm_url }}/services/{{ alert.context.service_name }})
â€¢ [ğŸ“‹ Performance Logs]({{ logs_url }}/performance/{{ alert.context.service_name }})
â€¢ [âš¡ Load Testing]({{ dashboard_url }}/load-testing/{{ alert.context.service_name }})
â€¢ [ğŸ§ª A/B Test Analysis]({{ dashboard_url }}/experiments/{{ alert.context.service_name }})

{% if alert.performance_context.auto_scaling %}
ğŸ”„ **Auto-Scaling Status**
â€¢ **Current Instances**: {{ alert.performance_context.auto_scaling.current_instances }}
â€¢ **Target Instances**: {{ alert.performance_context.auto_scaling.target_instances }}
â€¢ **Scaling Event**: {{ alert.performance_context.auto_scaling.last_scaling_event }}
â€¢ **Scaling Policy**: {{ alert.performance_context.auto_scaling.policy_status }}
{% endif %}

{% if alert.performance_context.immediate_actions %}
âš¡ **Immediate Performance Actions Available**
{% for action in alert.performance_context.immediate_actions %}
â€¢ {{ action.name }}: {{ action.description }} (ETA: {{ action.estimated_time }})
{% endfor %}
{% endif %}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**Alert ID**: `{{ alert.alert_id }}`
**Performance Baseline**: {{ alert.performance_context.baseline_period }}
**SLA Threshold**: {{ alert.performance_context.sla_threshold }}
**Time to SLA Breach**: {{ alert.performance_context.time_to_sla_breach | default('Not applicable') }}

*ğŸµ Spotify AI Agent Performance Monitoring*
*Performance degradation detected: {{ format_date(now, 'iso') }}*
*Alert Severity: {{ alert.severity.upper() }} | Recovery target: {{ alert.performance_context.recovery_target_time }}*
