# ================================================================================
# SPOTIFY AI AGENT - WARNING ALERTS CONFIGURATION MODULE
# ================================================================================
# Configuration ultra-avancée pour le système d'alertes Warning
# Module développé par l'équipe d'experts dirigée par Fahed Mlaiel
# 
# Équipe technique:
# - Lead Dev + Architecte IA
# - Développeur Backend Senior (Python/FastAPI/Django)
# - Ingénieur Machine Learning (TensorFlow/PyTorch/Hugging Face)
# - DBA & Data Engineer (PostgreSQL/Redis/MongoDB)
# - Spécialiste Sécurité Backend
# - Architecte Microservices
# ================================================================================

# === CONFIGURATION GÉNÉRALE ===
ENVIRONMENT=dev
DEBUG=true
LOG_LEVEL=INFO
VERSION=1.0.0
MODULE_NAME=warning_alert_config
SERVICE_NAME=spotify-ai-agent-warning-alerts

# === CONFIGURATION TENANT ===
DEFAULT_TENANT_ID=spotify_tenant_default
TENANT_ISOLATION_ENABLED=true
MULTI_TENANT_MODE=true
TENANT_CONFIG_CACHE_TTL=7200
MAX_TENANTS_PER_INSTANCE=1000

# === CONFIGURATION REDIS ===
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20
REDIS_CONNECTION_TIMEOUT=5
REDIS_COMMAND_TIMEOUT=10
REDIS_CLUSTER_ENABLED=false
REDIS_SENTINEL_ENABLED=false

# === CONFIGURATION DATABASE ===
DATABASE_URL=postgresql://user:password@localhost:5432/spotify_ai_agent
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false
DATABASE_AUTOCOMMIT=false

# === CONFIGURATION ALERTING AVANCÉE ===
# Niveaux d'alerte avec priorités
ALERT_LEVELS=CRITICAL,HIGH,WARNING,INFO,DEBUG
DEFAULT_ALERT_LEVEL=WARNING
ALERT_SEVERITY_WEIGHTS=5,4,3,2,1

# Rate limiting intelligent
MAX_ALERTS_PER_MINUTE=100
MAX_ALERTS_PER_HOUR=1000
MAX_ALERTS_PER_DAY=10000
RATE_LIMIT_WINDOW=60
BURST_RATE_LIMIT=200
RATE_LIMIT_ALGORITHM=token_bucket

# Cache et performance optimisés
ALERT_CACHE_TTL=3600
PROCESSING_CACHE_TTL=1800
DEDUPLICATION_WINDOW=300
CONFIG_CACHE_TTL=7200
TEMPLATE_CACHE_TTL=14400

# Escalade automatique intelligente
ESCALATION_ENABLED=true
CRITICAL_ESCALATION_MINUTES=5
HIGH_ESCALATION_MINUTES=15
WARNING_ESCALATION_MINUTES=60
INFO_ESCALATION_MINUTES=240
AUTO_RESOLVE_MINUTES=1440

# === CONFIGURATION SLACK AVANCÉE ===
SLACK_ENABLED=true
SLACK_DEFAULT_CHANNEL=#spotify-ai-alerts
SLACK_CRITICAL_CHANNEL=#spotify-critical
SLACK_WARNING_CHANNEL=#spotify-warnings
SLACK_INFO_CHANNEL=#spotify-monitoring
SLACK_USERNAME=Spotify AI Agent Bot
SLACK_ICON_EMOJI=:robot_face:
SLACK_ICON_URL=https://cdn.example.com/spotify-ai-bot-avatar.png

# Webhooks Slack par canal avec rotation
SLACK_WEBHOOK_DEFAULT=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
SLACK_WEBHOOK_CRITICAL=https://hooks.slack.com/services/T00000000/B00000001/YYYYYYYYYYYYYYYYYYYYYYYY
SLACK_WEBHOOK_WARNING=https://hooks.slack.com/services/T00000000/B00000002/ZZZZZZZZZZZZZZZZZZZZZZZZ
SLACK_WEBHOOK_MONITORING=https://hooks.slack.com/services/T00000000/B00000003/AAAAAAAAAAAAAAAAAAAAAAAA

# Configuration avancée des messages
SLACK_MESSAGE_MAX_LENGTH=3000
SLACK_ATTACHMENT_MAX_FIELDS=20
SLACK_ENABLE_ACTIONS=true
SLACK_ENABLE_THREADS=true
SLACK_ENABLE_REACTIONS=true
SLACK_THREAD_BROADCAST=false
SLACK_UNFURL_LINKS=false
SLACK_UNFURL_MEDIA=false

# Templates et formatting
SLACK_USE_BLOCKS=true
SLACK_USE_ATTACHMENTS=true
SLACK_COLOR_CRITICAL=#FF0000
SLACK_COLOR_HIGH=#FF8C00
SLACK_COLOR_WARNING=#FFD700
SLACK_COLOR_INFO=#00CED1
SLACK_COLOR_DEBUG=#808080

# Mentions et notifications
SLACK_MENTION_CHANNEL=false
SLACK_MENTION_HERE=false
SLACK_MENTION_EVERYONE=false
SLACK_NOTIFY_CRITICAL_USERS=<@U123456>,<@U789012>
SLACK_NOTIFY_ON_CALL_GROUP=<!subteam^S1234567890>

# === CONFIGURATION EMAIL AVANCÉE ===
EMAIL_ENABLED=true
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USE_SSL=false
SMTP_USERNAME=alerts@spotify-ai-agent.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_NAME=Spotify AI Agent Alerts
SMTP_FROM_EMAIL=noreply@spotify-ai-agent.com

# Configuration email avancée
EMAIL_MAX_RECIPIENTS=100
EMAIL_BATCH_SIZE=50
EMAIL_RETRY_ATTEMPTS=3
EMAIL_RETRY_DELAY=5
EMAIL_TEMPLATE_ENGINE=jinja2
EMAIL_HTML_ENABLED=true
EMAIL_PLAIN_TEXT_FALLBACK=true

# === CONFIGURATION PAGERDUTY ===
PAGERDUTY_ENABLED=false
PAGERDUTY_INTEGRATION_KEY=your_integration_key
PAGERDUTY_ROUTING_KEY=your_routing_key
PAGERDUTY_SEVERITY_MAPPING=critical:critical,high:error,warning:warning,info:info
PAGERDUTY_CLASS=spotify-ai-agent
PAGERDUTY_COMPONENT=warning-alerts

# === CONFIGURATION WEBHOOK GÉNÉRIQUE ===
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://your-webhook-endpoint.com/alerts
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5
WEBHOOK_HEADERS=Content-Type:application/json,Authorization:Bearer your_token

# === CONFIGURATION ML ET IA ===
ML_ENABLED=true
ML_MODEL_PATH=/models/alert_classifier.joblib
ML_CONFIDENCE_THRESHOLD=0.8
ML_FEATURE_EXTRACTION=true
ML_ANOMALY_DETECTION=true
ML_PREDICTION_CACHE_TTL=3600
ML_TRAINING_INTERVAL_HOURS=24

# Configuration TensorFlow/PyTorch
AI_MODEL_TYPE=tensorflow
AI_MODEL_VERSION=2.0.0
AI_BATCH_SIZE=32
AI_GPU_ENABLED=false
AI_MEMORY_LIMIT=2048

# === CONFIGURATION SÉCURITÉ AVANCÉE ===
SECURITY_ENABLED=true
ENCRYPTION_KEY=your_32_character_encryption_key_here
ENCRYPTION_ALGORITHM=AES-256-GCM
API_KEY_ROTATION_DAYS=30
TOKEN_EXPIRY_HOURS=24
RATE_LIMIT_BY_IP=true
RATE_LIMIT_BY_USER=true

# Audit et compliance
AUDIT_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90
COMPLIANCE_MODE=SOC2
GDPR_ENABLED=true
DATA_RETENTION_DAYS=365

# === CONFIGURATION MONITORING ET MÉTRIQUES ===
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_PORT=9090
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=spotify-ai-warning-alerts
OTEL_TRACE_EXPORTER=jaeger
OTEL_METRICS_EXPORTER=prometheus

# === CONFIGURATION PERFORMANCE ===
ASYNC_ENABLED=true
MAX_WORKERS=10
QUEUE_MAX_SIZE=10000
BATCH_PROCESSING_SIZE=100
BATCH_PROCESSING_INTERVAL=5
CONNECTION_POOL_SIZE=50
REQUEST_TIMEOUT=30

# Cache distribué
DISTRIBUTED_CACHE_ENABLED=true
CACHE_BACKEND=redis
CACHE_SERIALIZER=pickle
CACHE_COMPRESSION=true

# === CONFIGURATION LOGGING AVANCÉE ===
LOG_FORMAT=json
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_COMPRESSION=true
STRUCTURED_LOGGING=true
LOG_CORRELATION_ID=true

# Niveaux de log par composant
LOG_LEVEL_CONFIG_MANAGER=INFO
LOG_LEVEL_TEMPLATE_ENGINE=DEBUG
LOG_LEVEL_ESCALATION_ENGINE=INFO
LOG_LEVEL_NOTIFICATION_ROUTER=INFO
LOG_LEVEL_SECURITY_VALIDATOR=WARNING
LOG_LEVEL_PERFORMANCE_MONITOR=INFO

# === CONFIGURATION BACKUP ET RECOVERY ===
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_TYPE=s3
BACKUP_S3_BUCKET=spotify-ai-agent-backups
BACKUP_S3_PREFIX=warning-alerts/

# === CONFIGURATION DÉVELOPPEMENT ===
DEV_MODE=true
HOT_RELOAD=true
AUTO_MIGRATION=true
SEED_DATA=true
MOCK_EXTERNAL_SERVICES=false
PROFILING_ENABLED=false
SMTP_USE_TLS=true
SMTP_USERNAME=alerts@yourcompany.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM=Spotify AI Agent <alerts@yourcompany.com>
EMAIL_REPLY_TO=noreply@yourcompany.com

# Destinataires par défaut
EMAIL_TO_CRITICAL=critical-team@yourcompany.com
EMAIL_TO_HIGH=ops-team@yourcompany.com
EMAIL_TO_DEFAULT=alerts@yourcompany.com

# === CONFIGURATION WEBHOOK ===
WEBHOOK_ENABLED=false
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_COUNT=3
WEBHOOK_RETRY_DELAY=5

# URLs de webhook personnalisés
WEBHOOK_URL_CRITICAL=https://your-webhook-url/critical
WEBHOOK_URL_GENERAL=https://your-webhook-url/alerts

# === CONFIGURATION WARNING PROCESSOR ===
# Modèles NLP
NLP_MODEL=en_core_web_sm
NLP_BATCH_SIZE=32
TEXT_MAX_LENGTH=2000

# Classification automatique
CLASSIFICATION_ENABLED=true
CLASSIFICATION_CONFIDENCE_THRESHOLD=0.7
KEYWORD_EXTRACTION_MAX=10

# Patterns de détection
PATTERN_MATCHING_ENABLED=true
CUSTOM_PATTERNS_PATH=./config/patterns/
PATTERN_CACHE_TTL=1800

# Clustering et similarité
SIMILARITY_THRESHOLD=0.3
CLUSTERING_ENABLED=true
MAX_SIMILAR_ALERTS=5

# === CONFIGURATION LOCALE MANAGER ===
# Langues supportées
LOCALIZATION_ENABLED=true
DEFAULT_LOCALE=en_US
SUPPORTED_LOCALES=en_US,fr_FR,de_DE,es_ES,it_IT,pt_BR,ja_JP,ko_KR,zh_CN,ar_SA

# Traduction automatique
AUTO_TRANSLATION_ENABLED=true
TRANSLATION_CACHE_TTL=86400
TRANSLATION_API_KEY=your_translation_api_key

# Chemins des fichiers de traduction
TRANSLATIONS_PATH=./locales/
TRANSLATION_FALLBACK_ENABLED=true

# === CONFIGURATION TEMPLATE ENGINE ===
# Chemins et paramètres
TEMPLATES_PATH=./templates/
TEMPLATE_CACHE_TTL=3600
TEMPLATE_AUTO_RELOAD=true

# Formats supportés
SUPPORTED_TEMPLATE_FORMATS=jinja2,markdown,html,json,yaml,plaintext
DEFAULT_TEMPLATE_FORMAT=jinja2

# Sécurité des templates
TEMPLATE_SANDBOX_ENABLED=true
TEMPLATE_MAX_RENDER_TIME=10
TEMPLATE_MAX_INCLUDE_DEPTH=5

# === CONFIGURATION SÉCURITÉ ===
# Chiffrement
ENCRYPTION_ENABLED=true
ENCRYPTION_KEY=your_encryption_key_32_chars_long
HASH_ALGORITHM=sha256
SALT_LENGTH=32

# Validation des webhooks
WEBHOOK_SIGNATURE_VALIDATION=true
WEBHOOK_SECRET=your_webhook_secret

# Filtrage et assainissement
INPUT_SANITIZATION_ENABLED=true
URL_VALIDATION_ENABLED=true
MAX_INPUT_LENGTH=5000

# === CONFIGURATION MONITORING ===
# Métriques Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8000
METRICS_COLLECTION_INTERVAL=30

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60
COMPONENT_TIMEOUT=5

# Logging structuré
STRUCTURED_LOGGING=true
LOG_FORMAT=json
LOG_CORRELATION_ID=true

# === CONFIGURATION PERFORMANCE ===
# Pool de connexions
CONNECTION_POOL_SIZE=50
MAX_CONCURRENT_OPERATIONS=100
OPERATION_TIMEOUT=30

# Cache
CACHE_STRATEGY=redis
CACHE_DEFAULT_TTL=3600
CACHE_MAX_SIZE=1000

# Background tasks
BACKGROUND_TASK_WORKERS=4
TASK_QUEUE_MAX_SIZE=1000
TASK_RETRY_MAX=3

# === CONFIGURATION ML/AI ===
# Modèles d'analyse
ML_MODELS_ENABLED=true
ANOMALY_DETECTION_ENABLED=true
SENTIMENT_ANALYSIS_ENABLED=true

# Seuils d'intelligence artificielle
ANOMALY_THRESHOLD=0.8
CONFIDENCE_THRESHOLD=0.7
LEARNING_RATE=0.01

# === CONFIGURATION INTÉGRATIONS ===
# Grafana
GRAFANA_ENABLED=false
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your_grafana_api_key

# PagerDuty
PAGERDUTY_ENABLED=false
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key

# Datadog
DATADOG_ENABLED=false
DATADOG_API_KEY=your_datadog_api_key

# === CONFIGURATION DÉVELOPPEMENT ===
# Debug et testing
DEV_MODE=true
MOCK_EXTERNAL_SERVICES=false
ENABLE_DEBUG_ENDPOINTS=true

# Fixtures et données de test
LOAD_TEST_DATA=false
TEST_DATA_PATH=./fixtures/test_data/

# === CONFIGURATION PRODUCTION ===
# Optimisations production
PRODUCTION_MODE=false
ENABLE_COMPRESSION=true
MINIFY_RESPONSES=true

# Monitoring avancé
APM_ENABLED=false
PROFILING_ENABLED=false
MEMORY_PROFILING=false

# === CONFIGURATION RÉTENTION ===
# Durées de rétention
ALERT_RETENTION_DAYS=30
LOG_RETENTION_DAYS=7
METRICS_RETENTION_DAYS=90
CACHE_CLEANUP_INTERVAL=3600

# === CONFIGURATION LIMITES ===
# Limites système
MAX_ALERT_SIZE_KB=100
MAX_ATTACHMENT_SIZE_KB=500
MAX_CONCURRENT_ALERTS=1000
MAX_TENANT_ALERTS_PER_DAY=10000

# === CONFIGURATION FEATURES FLAGS ===
# Fonctionnalités expérimentales
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_PREDICTIVE_ALERTING=false
FEATURE_AUTO_RESOLUTION=false
FEATURE_SMART_ESCALATION=true

# === CONFIGURATION NOTIFICATIONS AVANCÉES ===
# Canaux supplémentaires
TEAMS_ENABLED=false
DISCORD_ENABLED=false
SMS_ENABLED=false

# Règles de notification
NOTIFICATION_RULES_ENABLED=true
QUIET_HOURS_ENABLED=true
QUIET_HOURS_START=22:00
QUIET_HOURS_END=08:00

# === CONFIGURATION API ===
# Paramètres API REST
API_VERSION=v1
API_PREFIX=/api/v1
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600

# CORS
CORS_ENABLED=true
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# === CONFIGURATION CLUSTER ===
# Configuration haute disponibilité
CLUSTER_MODE=false
CLUSTER_NODES=node1,node2,node3
LOAD_BALANCING=round_robin

# Réplication
REPLICATION_ENABLED=false
REPLICATION_FACTOR=3
